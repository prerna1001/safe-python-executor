Python Sandbox API (NsJail)
===========================

This project is a secure API that runs user-submitted Python scripts inside a jailed environment using NsJail.
It’s designed to be safe, fast, and developer-friendly, supporting libraries like NumPy and pandas while blocking access to the real system.

---

✨ What It Can Do
-----------------
- Lets users submit Python code and get results back instantly.
- Executes code inside a jail (sandbox) for safety.
- Supports useful libraries like NumPy and pandas.
- Prevents scripts from accessing your real files or sensitive data.
- Gives you back clean JSON responses that are easy to work with.

---

🚀 Try It Locally
------------------
Make sure your Flask server is running on `http://localhost:8080`.

Here are some `curl` requests you can try:

1. Basic script test:
```
curl -X POST http://localhost:8080/execute   -H "Content-Type: application/json"   -d '{"script": "def main():\n    return {\"message\": \"Hello local!\"}"}'
```

2. NumPy test:
```
curl -X POST http://localhost:8080/execute   -H "Content-Type: application/json"   -d '{"script": "import numpy as np\n\ndef main():\n    arr = np.array([1, 2, 3, 4])\n    return {\"mean\": np.mean(arr).item(), \"sum\": np.sum(arr).item()}"}'
```

3. Pandas test:
```
curl -X POST http://localhost:8080/execute   -H "Content-Type: application/json"   -d '{"script": "import pandas as pd\n\ndef main():\n    df = pd.DataFrame({\"name\": [\"Alice\", \"Bob\"], \"score\": [85, 92]})\n    return {\"average\": df[\"score\"].mean()}"}'
```

4. OS file listing test (should be restricted):
```
curl -X POST http://localhost:8080/execute   -H "Content-Type: application/json"   -d '{"script": "import os\n\ndef main():\n    return {\"files\": os.listdir(\"/\")}" }'
```

Expected output should show only limited jail folders like `tmp`, `usr`, etc.

---

🔒 What’s Keeping It Safe
--------------------------
- It uses NsJail to restrict access to the system.
- Scripts can’t read files like `/etc/passwd` or write to your disk.
- The environment is sanitized (very few system variables exposed).
- Each script runs in isolation with no shared memory.

---

🗂 Project Files
----------------
```
/app
├── main.py             # The Flask API server
├── executor.py         # Where the sandbox execution happens
├── nsjail.cfg          # Sandbox rules for local testing
├── launcher.py         # Optional: runtime config generation
```

---

📌 Coming Soon
--------------
- Cloud-safe config generator (for Google Cloud Run, etc.)
- Add memory and CPU limits
- Frontend UI for users to paste and run code
- Queue system for handling multiple submissions

---

👋 Author
---------
Made with ❤️ by [Your Name] — feel free to fork or contribute.

---

📜 License
----------
MIT (or use your preferred license)